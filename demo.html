<!--
 * @Author: will
 * @LastEditors: will
 * @Description: 
-->
<html>
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <div class="url_pay">
      <h2><img src="" /></h2>
      <div class="warp">
        <h3>è¯·ä»˜æ¬¾<span style="font-size: 34px">ğŸ‘‰</span><span class="total_fee"></span>å…ƒ</h3>
        <h4>æ”¯ä»˜æˆåŠŸåè¯·è€å¿ƒç­‰å¾…3-6ç§’,è‡ªåŠ¨è·³è½¬(<span>å¤šä»˜å°‘ä»˜ä¸åˆ°è´¦</span>)</h4>
        <div class="qr"><img src="https://apiupload.oss-cn-beijing.aliyuncs.com/assets/lodding.png" id="base64img" /></div>
        <div id="myProgress">
          <div id="myBar">100%</div>
        </div>
        <h6>æ”¯ä»˜å€’è®¡æ—¶:<span class="exprie_time" id="exprie_time"></span>ç§’</h6>
        <a href="javascript:void(0)" class="payok">æ”¯ä»˜å®Œæˆç‚¹å‡»è¿™é‡Œ</a>
        <h5></h5>
      </div>
    </div>

    <script type="text/javascript">
      document.write('<script type="text/javascript" src="https://apiupload.oss-cn-beijing.aliyuncs.com/assets/sopay.js?v=' + Math.random() + '"><\/script>')
    </script>
    <script>
      $(document).ready(function () {
        SoPay.post({
          app_id: '11323', //ä½ çš„appid
          type: 'wechat', //æ”¯ä»˜æ–¹å¼æˆ–è€…all/usdt/wechat/alipay/qq/bankCard
          uid: '23', //ä½ ç½‘ç«™ç”¨æˆ·id
          total_fee: 2.0, //æ”¯ä»˜é‡‘é¢
          out_trade_no: '202010092206552336', //è®¢å•å·
          timestamp: '1602297564', //æ—¶é—´æˆ³
          return_url: 'http://www.baidu.com', //æ”¯ä»˜å®Œè·³è½¬
          notify_url: 'http://www.baidu.com', //å›è°ƒåœ°å€
          param: '', //å…¶ä»–å‚æ•°
          sign: '2020091051481001', //ç­¾å
          callback: function (res) {
            //è·å–äºŒç»´ç åæ˜¾ç¤ºçš„å‡½æ•°
            if (res.code != 1) {
              swal('é”™è¯¯', res.msg, 'error')
              return
            }
            $('#base64img').attr('src', res.data.pay_url)
            $('.total_fee').html(res.data.really_total_fee)
            $('.exprie_time').html(res.data.exp_time)
            $('.order_no').html(res.data.out_trade_no)

            //res.data.pay_url //æ”¶æ¬¾äºŒç»´ç 
            //res.data.really_total_fee //æ”¯ä»˜é‡‘é¢
            //res.data.exp_time //è¿‡æœŸæ—¶é—´
            //res.data.out_trade_no //è®¢å•å·
          },
          success: function (data) {
            //æ”¯ä»˜æˆåŠŸåçš„å‡½æ•°
            console.log(data)
            alert('æ”¯ä»˜æˆåŠŸ')
            //è·³è½¬
          },
        })
      })
    </script>
  </body>
</html>
